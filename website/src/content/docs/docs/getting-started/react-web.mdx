---
title: React Web
description: How to use LiveStore with React on the web.
sidebar:
  order: 1
---

import { Steps, Tabs, TabItem, Code } from '@astrojs/starlight/components';
import viteConfigCode from '../../../../../../examples/standalone/web-meals-tracking-tanstack-router/vite.config.js?raw'
import tablesCode from '../../../../../../examples/standalone/web-meals-tracking-tanstack-router/src/lib/tables.ts?raw'
import eventsCode from '../../../../../../examples/standalone/web-meals-tracking-tanstack-router/src/lib/events.ts?raw'
import materializersCode from '../../../../../../examples/standalone/web-meals-tracking-tanstack-router/src/lib/materializers.ts?raw'
import schemaCode from '../../../../../../examples/standalone/web-todomvc/src/livestore/schema.ts?raw'
import workerCode from '../../../../../../examples/standalone/web-todomvc/src/livestore/livestore.worker.ts?raw'
import rootCode from '../../../../../../examples/standalone/web-todomvc/src/Root.tsx?raw'
import headerCode from '../../../../../../examples/standalone/web-todomvc/src/components/Header.tsx?raw'
import mainSectionCode from '../../../../../../examples/standalone/web-todomvc/src/components/MainSection.tsx?raw'

export const CODE = {
  viteConfig: viteConfigCode,
  events: eventsCode,
  schema: schemaCode,
  worker: workerCode,
  root: rootCode,
  header: headerCode,
  mainSection: mainSectionCode,
}

### Option A: Quick start

For a quick start, we recommend using our template app following the steps below.

For existing projects, see [Existing project setup](#existing-project-setup).

<Steps>

1. **Set up project from template**

   ```shell
   bunx tiged --mode=git git@github.com:livestorejs/livestore/examples/standalone/web-linearlite my-app
   ```

   Replace `my-app` with your desired app name.

2. **Install dependencies**

   It's strongly recommended to use `bun` or `pnpm` for the simplest and most reliable dependency setup (see [note on package management](/docs/misc/package-management) for more details).

   <Tabs syncKey="package-manager">
     <TabItem label="bun">
       ```bash
       bun install
       ```
     </TabItem>
     <TabItem label="pnpm">
       ```bash
       pnpm install
       ```
     </TabItem>
     <TabItem label="npm">
        ```bash
        npm install
        ```
     </TabItem>
   </Tabs>

   Pro tip: You can use [direnv](https://direnv.net/) to manage environment variables.

3. **Run dev environment**

   <Tabs syncKey="package-manager">
     <TabItem label="bun">
       ```shell
       bun dev
       ```
     </TabItem>
     <TabItem label="pnpm">
       ```shell
       pnpm dev
       ```
     </TabItem>
     <TabItem label="npm">
       ```shell
       npm run dev
       ```
     </TabItem>
   </Tabs>

4. **Open browser**

   Open `http://localhost:60000` in your browser.

   You can also open the devtools by going to `http://localhost:60000/_livestore`.

</Steps>

### Option B: Existing project setup \{#existing-project-setup\}

<Steps>

1. **Install dependencies**

   <Tabs syncKey="package-manager">
     <TabItem label="bun">
       ```shell
       bun add @livestore/livestore @livestore/wa-sqlite @livestore/adapter-web @livestore/react @livestore/utils @livestore/peer-deps @livestore/devtools-vite
       ```
     </TabItem>
     <TabItem label="pnpm">
       ```shell
       pnpm add @livestore/livestore @livestore/wa-sqlite @livestore/adapter-web @livestore/react @livestore/utils @livestore/peer-deps @livestore/devtools-vite
       ```
     </TabItem>
     <TabItem label="npm">
       ```shell
       npm install @livestore/livestore @livestore/wa-sqlite @livestore/adapter-web @livestore/react @livestore/utils @livestore/peer-deps @livestore/devtools-vite
       ```
     </TabItem>
   </Tabs>

2. **Update Vite config**

   Add the following code to your `vite.config.ts` file:

   <Code code={viteConfigCode} lang="ts" title="vite.config.ts" />
</Steps>

## Database tables
Define the structure of the data as SQLite tables using `State.SQLite.table`:

<Code code={tablesCode} lang="ts" title="src/lib/tables.ts" />

## Events
Every operation must be defined as an event using `Events.synced`:

<Code code={eventsCode} lang="ts" title="src/lib/events.ts" />

## Materializers
Materializers map the actual operation to execute for each event. Create a materializer using `State.SQLite.materializers` and passing all the events defined before:

<Code code={materializersCode} lang="ts" title="src/lib/materializers.ts" />

## Schema


## Events

Create a file named `events.ts` inside the `livestore` folder. This file stores the events your app uses to interact with the database.

Use the `Events` and `Schema` modules from `@livestore/livestore` to define your events.

Here's an example:

<Code code={eventsCode} lang="ts" title="src/livestore/events.ts" />

## Define your schema

To define the data structure for your app, set up a schema that specifies the tables and fields your app uses.

- In `src`, create a `livestore` folder and inside it create a file named `schema.ts`. This file defines the tables and data structures for your app.

- In `schema.ts`, define a table to represent a data model, such as a `todos`.

Here's an example:

<Code code={CODE.schema} lang="ts" title="src/livestore/schema.ts" />

## Create the LiveStore Worker

Create a file named `livestore.worker.ts` inside the `src/livestore` folder. This file will contain the LiveStore web worker. When importing this file, make sure to add the `?worker` extension to the import path to ensure that Vite treats it as a worker file.

<Code code={CODE.worker} lang="ts" title="src/livestore/livestore.worker.ts" />

## Add the LiveStore Provider

To make the LiveStore available throughout your app, wrap your app's root component with the `LiveStoreProvider` component from `@livestore/react`. This provider manages your appâ€™s data store, loading, and error states.

Here's an example:

<Code code={CODE.root} lang="tsx" title="src/Root.tsx" />

### Commit events

After wrapping your app with the `LiveStoreProvider`, you can use the `useStore` hook from any component to commit events.

Here's an example:

<Code code={CODE.header} lang="tsx" title="src/components/Header.tsx" />

## Queries

To retrieve data from the database, first define a query using `queryDb` from `@livestore/livestore`. Then, execute the query with the `useQuery` hook from `@livestore/react`.

Consider abstracting queries into a separate file to keep your code organized, though you can also define them directly within components if preferred.

Here's an example:

<Code code={CODE.mainSection} lang="tsx" title="src/components/MainSection.tsx" />
